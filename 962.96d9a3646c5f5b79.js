"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[962],{2962:(M,d,o)=>{o.r(d),o.d(d,{ConstructorsModule:()=>b});var i=o(9808),c=o(1083),m=o(2835),h=o(3900),r=o(5e3),f=o(2313),g=o(6364),a=o(4813),u=o(2340),y=o(520);let l=(()=>{class s{constructor(t){this.http=t}getConstructorDetails(t){return this.http.get(`${u.N.api}/constructors/${t}.json`).pipe((0,a.j)("MRData","ConstructorTable","Constructors"))}getConstructorResults(t){return this.http.get(`${u.N.api}/constructors/${t}/results.json`).pipe((0,a.j)("MRData","RaceTable","Races"))}getConstructors(t="2021"){return this.http.get(`${u.N.api}/${t}/constructors.json`).pipe((0,a.j)("MRData","ConstructorTable","Constructors"))}}return s.\u0275fac=function(t){return new(t||s)(r.LFG(y.eN))},s.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac}),s})();var v=o(6408),S=o(1048),C=o(773);function L(s,n){if(1&s&&r._UZ(0,"app-constructors-drivers",2),2&s){const t=r.oxw();r.Q6J("type","constructors")("data",t.constructors)}}function F(s,n){1&s&&r._UZ(0,"mat-spinner")}let Y=(()=>{class s{constructor(t,e,p,H,J){this.title=t,this.yearHandlerService=e,this.constructorsService=p,this.router=H,this.seasonFilterVisibilityHandlerService=J,this.isLoading=!1,this.constructors=[],this.title.setTitle("Formula 1 | Constructors")}ngOnInit(){this.getConstructors(),this.seasonFilterVisibilityHandlerService.seasonFilterVisibilityHandler(!0)}ngOnDestroy(){var t;null===(t=this.constructorsSub$)||void 0===t||t.unsubscribe()}getConstructors(){this.isLoading=!0,this.constructorsSub$=this.yearHandlerService.year$.pipe((0,h.w)(t=>this.constructorsService.getConstructors(t))).subscribe({next:t=>{this.isLoading=!1,this.constructors=t},error:t=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return s.\u0275fac=function(t){return new(t||s)(r.Y36(f.Dx),r.Y36(g.K),r.Y36(l),r.Y36(c.F0),r.Y36(v._))},s.\u0275cmp=r.Xpm({type:s,selectors:[["app-constructors"]],decls:2,vars:2,consts:[[3,"type","data",4,"ngIf"],[4,"ngIf"],[3,"type","data"]],template:function(t,e){1&t&&(r.YNc(0,L,1,2,"app-constructors-drivers",0),r.YNc(1,F,1,0,"mat-spinner",1)),2&t&&(r.Q6J("ngIf",!e.isLoading),r.xp6(1),r.Q6J("ngIf",e.isLoading))},directives:[i.O5,S.D,C.$g],styles:[""]}),s})();var $=o(4128),D=o(9593);function x(s,n){if(1&s&&r._UZ(0,"app-driver-constructor",2),2&s){const t=r.oxw();r.Q6J("type","constructor")("details",t.details)("results",t.results)}}function I(s,n){1&s&&r._UZ(0,"mat-spinner",3)}const T=[{path:"",component:Y},{path:":id",component:(()=>{class s{constructor(t,e,p){this.constructorsService=t,this.route=e,this.seasonFilterVisibilityHandlerService=p,this.isLoading=!1,this.results=[]}ngOnInit(){this.getConstructorDetails(),this.seasonFilterVisibilityHandlerService.seasonFilterVisibilityHandler(!1)}ngOnDestroy(){var t;null===(t=this.detailsSub$)||void 0===t||t.unsubscribe()}getConstructorDetails(){this.isLoading=!0,this.detailsSub$=this.route.params.pipe((0,h.w)(t=>(0,$.D)([this.constructorsService.getConstructorDetails(t.id),this.constructorsService.getConstructorResults(t.id)]))).subscribe({next:t=>{this.isLoading=!1,this.details=t[0][0],this.results=t[1]},error:t=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return s.\u0275fac=function(t){return new(t||s)(r.Y36(l),r.Y36(c.gz),r.Y36(v._))},s.\u0275cmp=r.Xpm({type:s,selectors:[["app-constructor"]],decls:2,vars:2,consts:[[3,"type","details","results",4,"ngIf"],["class","driver-constructor",4,"ngIf"],[3,"type","details","results"],[1,"driver-constructor"]],template:function(t,e){1&t&&(r.YNc(0,x,1,3,"app-driver-constructor",0),r.YNc(1,I,1,0,"mat-spinner",1)),2&t&&(r.Q6J("ngIf",!e.isLoading),r.xp6(1),r.Q6J("ngIf",e.isLoading))},directives:[i.O5,D.u,C.$g],styles:[""]}),s})()}];let b=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({providers:[l],imports:[[i.ez,c.Bz.forChild(T),m.m]]}),s})()}}]);