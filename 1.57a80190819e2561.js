"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[1],{2001:(C,u,s)=>{s.r(u),s.d(u,{DriversModule:()=>S});var p=s(9808),o=s(1083),d=s(3781),v=s(3900),t=s(5e3),h=s(6364),a=s(4813),c=s(2340),D=s(520);let l=(()=>{class e{constructor(r){this.http=r}getDriverDetails(r){return this.http.get(`${c.N.api}/drivers/${r}.json`).pipe((0,a.j)("MRData","DriverTable","Drivers"))}getDriverResults(r){return this.http.get(`${c.N.api}/drivers/${r}/results.json`).pipe((0,a.j)("MRData","RaceTable","Races"))}getDrivers(r="2021"){return this.http.get(`${c.N.api}/${r}/drivers.json`).pipe((0,a.j)("MRData","DriverTable","Drivers"))}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(D.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var m=s(1048);let f=(()=>{class e{constructor(r,i,$){this.yearHandlerService=r,this.driversService=i,this.router=$}ngOnInit(){this.drivers$=this.yearHandlerService.year$.pipe((0,v.w)(r=>this.driversService.getDrivers(r)))}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(h.K),t.Y36(l),t.Y36(o.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-drivers"]],decls:1,vars:2,consts:[[3,"type","data$"]],template:function(r,i){1&r&&t._UZ(0,"app-constructors-drivers",0),2&r&&t.Q6J("type","drivers")("data$",i.drivers$)},directives:[m.D],styles:[""]}),e})();var y=s(9964);const g=[{path:"",component:f},{path:":id",component:(()=>{class e{constructor(r,i){this.driversService=r,this.route=i,this.results=[]}ngOnInit(){this.getDriverDetails()}ngOnDestroy(){var r,i;null===(r=this.detailsSub$)||void 0===r||r.unsubscribe(),null===(i=this.resultsSub$)||void 0===i||i.unsubscribe()}getDriverDetails(){this.detailsSub$=this.route.params.pipe((0,v.w)(r=>this.driversService.getDriverDetails(r.id))).subscribe(r=>this.details=r[0]),this.resultsSub$=this.route.params.pipe((0,v.w)(r=>this.driversService.getDriverResults(r.id))).subscribe(r=>this.results=r)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(l),t.Y36(o.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-driver"]],decls:1,vars:3,consts:[[3,"type","details","results"]],template:function(r,i){1&r&&t._UZ(0,"app-driver-constructor",0),2&r&&t.Q6J("type","driver")("details",i.details)("results",i.results)},directives:[y.u],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[l],imports:[[p.ez,o.Bz.forChild(g),d.m],o.Bz]}),e})()}}]);