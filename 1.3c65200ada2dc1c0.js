"use strict";(self.webpackChunkformula_one=self.webpackChunkformula_one||[]).push([[1],{2001:(M,p,i)=>{i.r(p),i.d(p,{DriversModule:()=>b});var a=i(9808),o=i(1083),f=i(2835),u=i(3900),t=i(5e3),D=i(2313),g=i(6364),v=i(4813),l=i(2340),y=i(520);let c=(()=>{class e{constructor(r){this.http=r}getDriverDetails(r){return this.http.get(`${l.N.api}/drivers/${r}.json`).pipe((0,v.j)("MRData","DriverTable","Drivers"))}getDriverResults(r){return this.http.get(`${l.N.api}/drivers/${r}/results.json`).pipe((0,v.j)("MRData","RaceTable","Races"))}getDrivers(r="2021"){return this.http.get(`${l.N.api}/${r}/drivers.json`).pipe((0,v.j)("MRData","DriverTable","Drivers"))}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(y.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var h=i(6408),S=i(1048),m=i(773);function C(e,s){if(1&e&&t._UZ(0,"app-constructors-drivers",2),2&e){const r=t.oxw();t.Q6J("type","drivers")("data",r.drivers)}}function L(e,s){1&e&&t._UZ(0,"mat-spinner")}let F=(()=>{class e{constructor(r,n,d,H,J){this.title=r,this.yearHandlerService=n,this.driversService=d,this.router=H,this.seasonFilterVisibilityHandlerService=J,this.isLoading=!1,this.drivers=[],this.title.setTitle("Formula 1 | Drivers")}ngOnInit(){this.getDrivers(),this.seasonFilterVisibilityHandlerService.seasonFilterVisibilityHandler(!0)}ngOnDestroy(){var r;null===(r=this.driversSub$)||void 0===r||r.unsubscribe()}getDrivers(){this.isLoading=!0,this.driversSub$=this.yearHandlerService.year$.pipe((0,u.w)(r=>this.driversService.getDrivers(r))).subscribe({next:r=>{this.isLoading=!1,this.drivers=r},error:r=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(D.Dx),t.Y36(g.K),t.Y36(c),t.Y36(o.F0),t.Y36(h._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-drivers"]],decls:2,vars:2,consts:[[3,"type","data",4,"ngIf"],[4,"ngIf"],[3,"type","data"]],template:function(r,n){1&r&&(t.YNc(0,C,1,2,"app-constructors-drivers",0),t.YNc(1,L,1,0,"mat-spinner",1)),2&r&&(t.Q6J("ngIf",!n.isLoading),t.xp6(1),t.Q6J("ngIf",n.isLoading))},directives:[a.O5,S.D,m.$g],styles:[""]}),e})();var Y=i(4128),$=i(9593);function x(e,s){if(1&e&&t._UZ(0,"app-driver-constructor",2),2&e){const r=t.oxw();t.Q6J("type","driver")("details",r.details)("results",r.results)}}function I(e,s){1&e&&t._UZ(0,"mat-spinner",3)}const T=[{path:"",component:F},{path:":id",component:(()=>{class e{constructor(r,n,d){this.driversService=r,this.route=n,this.seasonFilterVisibilityHandlerService=d,this.isLoading=!1,this.results=[]}ngOnInit(){this.getDriverDetails(),this.seasonFilterVisibilityHandlerService.seasonFilterVisibilityHandler(!1)}ngOnDestroy(){var r;null===(r=this.detailsSub$)||void 0===r||r.unsubscribe()}getDriverDetails(){this.isLoading=!0,this.detailsSub$=this.route.params.pipe((0,u.w)(r=>(0,Y.D)([this.driversService.getDriverDetails(r.id),this.driversService.getDriverResults(r.id)]))).subscribe({next:r=>{this.isLoading=!1,this.details=r[0][0],this.results=r[1]},error:r=>this.isLoading=!1,complete:()=>this.isLoading=!1})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(c),t.Y36(o.gz),t.Y36(h._))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-driver"]],decls:2,vars:2,consts:[[3,"type","details","results",4,"ngIf"],["class","driver-constructor",4,"ngIf"],[3,"type","details","results"],[1,"driver-constructor"]],template:function(r,n){1&r&&(t.YNc(0,x,1,3,"app-driver-constructor",0),t.YNc(1,I,1,0,"mat-spinner",1)),2&r&&(t.Q6J("ngIf",!n.isLoading),t.xp6(1),t.Q6J("ngIf",n.isLoading))},directives:[a.O5,$.u,m.$g],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[c],imports:[[a.ez,o.Bz.forChild(T),f.m],o.Bz]}),e})()}}]);